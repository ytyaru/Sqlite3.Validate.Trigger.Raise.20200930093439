{"version": 2, "width": 135, "height": 103, "timestamp": 1601502875, "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}}
[0.000000, "o", "\u001b[01;34m$\u001b[00m "]
[0.000001, "o", "./run.sh"]
[0.000002, "o", "\r\n"]
[0.000003, "o", "========== in.sql ==========\r\n"]
[0.000004, "o", "select 'A' IN ('A','B','C'); /* 1 */\r\n"]
[0.000005, "o", "1\r\nsqlite> "]
[0.000006, "o", "select 'X' IN ('A','B','C'); /* 0 */\r\n"]
[0.000007, "o", "0\r\nsqlite> \r\n"]
[0.000008, "o", "========== in_var.sql ==========\r\n"]
[0.000009, "o", ".parameter set @value 'A'\r\n"]
[0.000010, "o", "sqlite> "]
[0.000011, "o", "select @value IN ('A','B','C'); /* 1 */\r\n"]
[0.000012, "o", "1\r\n"]
[0.000013, "o", "sqlite> "]
[0.000014, "o", ".parameter set @value 'X'\r\n"]
[0.000015, "o", "sqlite> "]
[0.000016, "o", "select @value IN ('A','B','C'); /* 0 */\r\n"]
[0.000017, "o", "0\r\n"]
[0.000018, "o", "sqlite> \r\n"]
[0.000019, "o", "========== table.sql ==========\r\n"]
[0.000020, "o", "create table ValidateValues(Value numeric primary key not null) without rowid;\r\n"]
[0.000021, "o", "sqlite> "]
[0.000022, "o", "insert into ValidateValues(Value) values('A'),('B'),('C');\r\n"]
[0.000023, "o", "sqlite> "]
[0.000024, "o", ".parameter set @value 'A'\r\n"]
[0.000025, "o", "sqlite> "]
[0.000026, "o", "select @value IN (select Value from ValidateValues); /* 1 */\r\n"]
[0.000027, "o", "1\r\n"]
[0.000028, "o", "sqlite> "]
[0.000029, "o", ".parameter set @value 'X'\r\n"]
[0.000030, "o", "sqlite> "]
[0.000031, "o", "select @value IN (select Value from ValidateValues); /* 0 */\r\n"]
[0.000032, "o", "0\r\n"]
[0.000033, "o", "sqlite> "]
[0.000034, "o", "\r\n"]
[0.000035, "o", "========== trigger_0.sql ==========\r\n"]
[0.000036, "o", "create table Names(Name text);\r\n"]
[0.000037, "o", "sqlite> "]
[0.000038, "o", "create table Names_Name_VV(Expected numeric primary key not null) without rowid;\r\n"]
[0.000039, "o", "sqlite> "]
[0.000040, "o", "insert into Names_Name_VV(Expected) values('A'),('B'),('C');\r\n"]
[0.000041, "o", "sqlite> "]
[0.000042, "o", "\r\nsqlite> "]
[0.000043, "o", "create trigger Validate_Insert_Names_Name before insert on Names\r\n"]
[0.000044, "o", "   ...> "]
[0.000045, "o", "when not(select NEW.Name in (select Expected from Names_Name_VV))\r\n"]
[0.000046, "o", "   ...> begin\r\n"]
[0.000047, "o", "   ...> "]
[0.000048, "o", "    select raise(ABORT, 'Invalid value. The Names.Name must match one of the Expected column values in the Names_Name_VV table.'\r');\r\n"]
[0.000049, "o", "   ...> end;\r\n"]
[0.000050, "o", "sqlite> "]
[0.000051, "o", "\r\nsqlite> "]
[0.000052, "o", "insert into Names values('X');\r\n"]
[0.000053, "o", "Error: Invalid value. The Names.Name must match one of the Expected column values in the Names_Name_VV table.\r\n"]
[0.000054, "o", "sqlite> "]
[0.000055, "o", "insert into Names values('A');\r\n"]
[0.000056, "o", "sqlite> "]
[0.000057, "o", "select * from Names;\r\n"]
[0.000058, "o", "A\r\n"]
[0.000059, "o", "sqlite> \r\n"]
[0.000060, "o", "========== trigger_1.sql ==========\r\n"]
[0.000061, "o", "create table Names(Name text);\r\n"]
[0.000062, "o", "sqlite> "]
[0.000063, "o", "create table Names_Name_VV(Expected numeric primary key not null) without rowid;\r\n"]
[0.000064, "o", "sqlite> "]
[0.000065, "o", "insert into Names_Name_VV(Expected) values('A'),('B'),('C');\r\n"]
[0.000066, "o", "sqlite> \r\n"]
[0.000067, "o", "sqlite> "]
[0.000068, "o", "create trigger Validate_Insert_Names_Name before insert on Names\r\n"]
[0.000069, "o", "   ...> "]
[0.000070, "o", "when not(select NEW.Name in (select Expected from Names_Name_VV))\r\n"]
[0.000071, "o", "   ...> begin"]
[0.000072, "o", "\r\n   ...> "]
[0.000073, "o", "    select raise(ABORT, 'Invalid value. The Names.Name must match one of the Expected column values in the Names_Name_VV table.'\r');\r\n"]
[0.000074, "o", "   ...> end;\r\n"]
[0.000075, "o", "sqlite> "]
[0.000076, "o", "create trigger Validate_Update_Names_Name before update on Names\r\n"]
[0.000077, "o", "   ...> "]
[0.000078, "o", "when not(select NEW.Name in (select Expected from Names_Name_VV))\r\n"]
[0.000079, "o", "   ...> begin\r\n"]
[0.000080, "o", "   ...> "]
[0.000081, "o", "    select raise(ABORT, 'Invalid value. The Names.Name must match one of the Expected column values in the Names_Name_VV table.'\r');\r\n"]
[0.000082, "o", "   ...> end;\r\n"]
[0.000083, "o", "sqlite> \r\n"]
[0.000084, "o", "sqlite> "]
[0.000085, "o", "insert into Names values('X');\r\n"]
[0.000086, "o", "Error: Invalid value. The Names.Name must match one of the Expected column values in the Names_Name_VV table.\r\n"]
[0.000087, "o", "sqlite> "]
[0.000088, "o", "insert into Names values('A');\r\n"]
[0.000089, "o", "sqlite> "]
[0.000090, "o", "select * from Names;\r\n"]
[0.000091, "o", "A\r\n"]
[0.000092, "o", "sqlite> "]
[0.000093, "o", "update Names set Name = 'X';\r\n"]
[0.000094, "o", "Error: Invalid value. The Names.Name must match one of the Expected column values in the Names_Name_VV table.\r\n"]
[0.000095, "o", "sqlite> "]
[0.000096, "o", "select * from Names;\r\n"]
[0.000097, "o", "A\r\n"]
[0.000098, "o", "sqlite> "]
[0.000099, "o", "update Names set Name = 'B';\r\n"]
[0.000100, "o", "sqlite> "]
[0.000101, "o", "select * from Names;\r\n"]
[0.000102, "o", "B\r\n"]
[0.000103, "o", "sqlite> \r\n"]
[0.000104, "o", "========== trigger_attach.sql ==========\r\n"]
[0.000105, "o", "create table Names(Name text);"]
[0.000106, "o", "\r\n"]
[0.000107, "o", "sqlite> "]
[0.000108, "o", "create table valid.Names_Name(Expected numeric primary key not null) without rowid;\r\n"]
[0.000109, "o", "sqlite> "]
[0.000110, "o", "insert into valid.Names_Name(Expected) values('A'),('B'),('C');\r\n"]
[0.000111, "o", "sqlite> "]
[0.000112, "o", "\r\nsqlite> "]
[0.000113, "o", "create trigger Validate_Insert_Names_Name before insert on Names\r\n"]
[0.000114, "o", "   ...> "]
[0.000115, "o", "when not(select NEW.Name in (select Expected from valid.Names_Name))\r\n"]
[0.000116, "o", "   ...> begin\r\n"]
[0.000117, "o", "   ...> "]
[0.000118, "o", "    select raise(ABORT, 'Invalid value. The Names.Name must match one of the Expected column values in the valid.Names_Name tabl\rle.');\r\n"]
[0.000119, "o", "   ...> end;\r\n"]
[0.000120, "o", "Error: trigger Validate_Insert_Names_Name cannot reference objects in database valid\r\n"]
[0.000121, "o", "sqlite> \r\n"]
[0.000122, "o", "========== trigger_param.sql ==========\r\n"]
[0.000123, "o", "create table Names(Name text);\r\n"]
[0.000124, "o", "sqlite> "]
[0.000125, "o", "create table Names_Name_VV(Expected numeric primary key not null) without rowid;\r\n"]
[0.000126, "o", "sqlite> "]
[0.000127, "o", "insert into Names_Name_VV(Expected) values('A'),('B'),('C');\r\n"]
[0.000128, "o", "sqlite> "]
[0.000129, "o", "\r\nsqlite> "]
[0.000130, "o", ".param set @actual 'X'\r\n"]
[0.000131, "o", "sqlite> "]
[0.000132, "o", "create trigger Validate_Insert_Names_Name before insert on Names\r\n"]
[0.000133, "o", "   ...> "]
[0.000134, "o", "when not(select @actual in (select Expected from Names_Name_VV))\r\n"]
[0.000135, "o", "   ...> begin\r\n"]
[0.000136, "o", "   ...> "]
[0.000137, "o", "    select raise(ABORT, 'Invalid value. The Names.Name must match one of the Expected column values in the Names_Name_VV table.'\r');\r\n"]
[0.000138, "o", "   ...> end;\r\n"]
[0.000139, "o", "Error: trigger cannot use variables\r\n"]
[0.000140, "o", "sqlite> \r\n"]
[0.000141, "o", "\u001b[01;34m$\u001b[00m "]
[7.000142, "o", "exit\r\n"]
